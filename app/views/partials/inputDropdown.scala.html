@* dropdownOptions as Tuple until data model clearer *@

@(field: Field,
dropdownOptions: Seq[(String, String)],
defaultDropdownOption: (String, String),
 args: (Symbol, Any)*
)(implicit messages: Messages)

@import views.html.helper._
@import viewsapi.FormFunctions._
@import views.html.partials.errorMessage

@elements = @{new FieldElements(field.id, field, null, args.toMap, messages) }
@disabledStatus = {@elements.args.get(Symbol("_disabledOption"))}
<div class="govuk-form-group @elements.setErrorClass()">
    <label class="govuk-label" for="@elements.id">
        @elements.args.get(Symbol("_label"))
        @elements.args.requiredLabelSuffix()
    </label>
    @errorMessage(elements)
    <select class="govuk-select" id="@elements.id" name="@elements.id" @elements.args.requiredInput() @disabledStatus>
        @if(disabledStatus.toString() != "disabled") {
            @if(defaultDropdownOption._1 == "") {
                <option value="@defaultDropdownOption._1" selected>
                    @defaultDropdownOption._2
                </option>
            }

            @for(dropdownOption <- dropdownOptions) {
                <option @if(dropdownOption._1 == defaultDropdownOption._1 && defaultDropdownOption._1 != "") {selected="selected"} value="@dropdownOption._1">@dropdownOption._2</option>
            }
        } else {
            @for(dropdownOption <- dropdownOptions) {
                <option @if(disabledStatus.toString() == "disabled") {selected="selected"} value="@dropdownOption._1">@dropdownOption._2</option>
            }
        }
    </select>
</div>
