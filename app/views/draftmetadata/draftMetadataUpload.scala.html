@import helper._
@import views.html.partials._
@import viewsapi.FrontEndInfo

@import java.util.UUID
@(consignmentId: UUID, consignmentRef: String, frontEndInfo: FrontEndInfo, name: String)(implicit request: RequestHeader, messages: Messages)

@main("[WIP] Draft Metadata Upload", name = name, backLink = Some(backLink(routes.HomepageController.homepage().url, "How would you like to enter metadata?"))) {
    <div id="metadata-file-upload" class="govuk-grid-row" hidden>

        <div class="govuk-grid-column-two-thirds">
            <h1 class="govuk-heading-l">Upload a CSV with record metadata</h1>
            <div class="govuk-body">
                <p> Upload a metadata CSV with a row for every record in your consignment.</p>
                <p> The CSV must contain specific populated columns for a successful upload.</p>
                <p>For more information on the CSV structure and content, visit the metadata guidance page.</p>
            </div>

            <div class="govuk-form-group">
                <div id="selection-area">
                    @loggedOutErrorMessage("file-upload")
                    @frontEndInputs(frontEndInfo)

                    <form action="@routes.UploadController.saveDraftMetadata(consignmentId)" id="draft-metadata-upload-forms" enctype="multipart/form-data" method="post" >
                        @CSRF.formField
                        <div >
                            <input class="govuk-file-upload" type="file" id="file-selection" name="files"
                            accept=".csv">
                        </div>
                        <div>
                            <button id="to-draft-metadata-checks" class="govuk-button" type="submit" data-module="govuk-button"  role="button">
                                Upload
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        @transferReference(consignmentRef, isJudgmentUser = false)

    </div>
}
